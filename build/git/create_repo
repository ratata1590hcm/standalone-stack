#!/bin/sh
repo_name="$1"
[ -z "$repo_name" ] && echo "Usage: $0 <repo_name>" && exit 1

repo_dir="/git/$repo_name.git"
[ -d "$repo_dir" ] && echo "$repo_name.git exists. Skipping." && exit 0

git init --bare "$repo_dir" && 
git --git-dir="$repo_dir" config http.receivepack true &&
echo "Created $repo_name.git"